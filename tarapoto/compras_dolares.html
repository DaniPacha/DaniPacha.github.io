<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comp. Dólares TARAPOTO</title>
    <link rel="shortcut icon" type="image/x-icon" href="../aide-excel.ico" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    
</head>
<style>
    .pointer{
        cursor: pointer;
    }
    .pointer:hover{
        color: yellow;
    }
    .table-hover.table-hover-dark > tbody > tr:hover > * {
        background-color: #484848;
        color: #ddd;
        transition: all 0.3s;
    }
    
    .pl-5{
        padding-left: 5rem;
        padding-right: 5rem;
    }

    #text_resultados{
      color: white;
      line-height: 36px;
      min-width: 180px;
      text-align: right;
      margin-right: 10px;;
    }

    .hide {display:none;}

    .red {color:Red !important;}
</style>
<body>
    <nav class="navbar  navbar-dark bg-dark navbar-expand-lg bg-light">
        <div class="container-fluid container-xxl">
          <a class="navbar-brand" href="index.html">AIDE</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarScroll">
            <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="r4.html">R4 Capac.Docente</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="r8.html">R8 Progr. Deportivos</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="r9.html">R9 Proy. Social</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="r10.html">R10 Inv. e Innov.</a>
              </li>    
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="r2.html">R2.2 R3 Infra. y Equipam.</a>
              </li>         
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Compras Dólares</a>
              </li>         
            </ul>
            <form class="d-flex" role="search">
              <span id="text_resultados" class="inline-block"></span>
              <input id="searchTerm" class="form-control me-2" type="search" placeholder="Buscar..."  onkeyup="doSearch()" aria-label="Search">
              <!-- <button class="btn btn-outline-primary" type="button">Buscar</button> -->
            </form>
          </div>
        </div>
      </nav>
    <div class="container-fluid">
        <h1 class="">Compras en Dólares TARAPOTO<span class="badge text-bg-light pointer" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample" style="font-size: 0.33em;"> <i class="fa fa-chevron-down" aria-hidden="true"></i></span></h1>
        <div class="collapse" id="collapseExample">
            <input id="f_token" type="text" class="form-control" placeholder="ahjHGFkjGKJG54JHGJ57HKGDFdwsL65" value="X">
          </div>
        <!-- <hr> -->
        <div class="table-responsive"  style="max-height: 800px">
            <table id="datos_compras" class="table table-responsive table-responsive-sm table-striped-columns table-hover table-hover-dark" style="font-size: 10.8px;" >
                <thead>
                    <tr class="table-primary ">
                        <th>#</th>
                        <th>Archivos</th>
                        <th>Cuenta-Cta.Cte</th>  
                        <th>Departm.</th>  
                        <th>Descripcion Asiento</th>  
                        <th>Imp Asiento</th>  
                        <th>Razon Social</th>  
                        <th>RUC</th>  
                        <th>Tipo Comp.</th>  
                        <th>Serie-Numero</th>  
                        <th>Nro Compr.</th>    
                        <th>Imp.Total Compr.</th>   
                        <th>IGV Compr.</th>   
                        <th>Fecha Comp.</th>  
                        <th>Fecha Prov.</th> 
                        <th>Lote Compra</th>  
                        <th>Imp Pago</th>  
                        <th>Imp Pago Dolares</th>  
                        <th>Num Oper.</th>  
                        <th>Fecha Pago</th>  
                        <th>Lote Pago</th> 
                        <th>Fecha Lote Pago</th>  
                        <th>Retención</th> 
                        <th>Detracción</th>  
                        
                    </tr>
                </thead>
                <tbody>
                  <tr><td align="right">	1	</td><td><span class="pointer" onclick="descargar_pago(351930)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>63020604	</td><td>7124- F002-28 | Equipos domóticos | Actualización de equipos domóticos	</td><td align="right"><b>9,826.52	</b></td><td>B-Matic Group S.A.C.-B-Matic S.A.C. B-Matic Group S.A.C.-B-Matic S.A.C. 	</td><td><b>20602146660	</b></td><td>FACTURA	</td><td>F002-28	</td><td>000000000028	</td><td align="right"><b>2,639.41	</td><td align="right"><b>1,498.95	</b></td><td>06-ENE-24	</td><td>04-ABR-24	</td><td>RCT 1	</td><td align="right"><b>   9,534.03	</b></td><td align="right">   2,560.23	</td><td>2063278	</td><td>04-ABR-24	</td><td>MBT 16	</td><td>08-ABR-24	</td><td><b>292.49</b> (79.18) 04-ABR-24 E001-25202	</td><td>	</td></tr>
                  <tr><td align="right">	2	</td><td><span class="pointer" onclick="descargar_pago(373184)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>61010214	</td><td>7124- F002-37 | Domotización Aulas Pab D | DOMOTIZACIÓN DE 5 AULAS DEL	</td><td align="right"><b>16,162.74	</b></td><td>B-Matic Group S.A.C.-B-Matic S.A.C. B-Matic Group S.A.C.-B-Matic S.A.C. 	</td><td><b>20602146660	</b></td><td>FACTURA	</td><td>F002-37	</td><td>000000000037	</td><td align="right"><b>4,399.78	</td><td align="right"><b>2,473.19	</b></td><td>05-ABR-24	</td><td>16-MAY-24	</td><td>RCT 5	</td><td align="right"><b>  15,721.13	</b></td><td align="right">   4,267.79	</td><td>2033027	</td><td>08-MAY-24	</td><td>MBT 38	</td><td>20-MAY-24	</td><td><b>492.06</b> (131.99) 08-MAY-24 E001-25703	</td><td>	</td></tr>
                  <tr><td align="right">	3	</td><td><span class="pointer" onclick="descargar_pago(384384)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>61010106	</td><td>7124- F001-5382 | Silver iMac apple M3 chip with 8-core | EQUIPO TECNO	</td><td align="right"><b>12,306.31	</b></td><td>Infotek Peru S.A.C. - 	</td><td><b>20510913532	</b></td><td>FACTURA	</td><td>F001-5382	</td><td>000000005382	</td><td align="right"><b>3,302.82	</td><td align="right"><b>1,877.23	</b></td><td>06-MAY-24	</td><td>28-MAY-24	</td><td>RCT 13	</td><td align="right"><b>  11,930.20	</b></td><td align="right">   3,203.74	</td><td>1275030	</td><td>18-JUN-24	</td><td>MBT 37	</td><td>18-JUN-24	</td><td><b>376.11</b> (99.08) 18-JUN-24 E001-26350	</td><td>	</td></tr>
                  <tr><td align="right">	4	</td><td><span class="pointer" onclick="descargar_pago(437675)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>63040602	</td><td>7124- F001-631 | Simulador/ARES-LAB Enferería | 02-SUMULADOR DE MEDIAN	</td><td align="right"><b>260,852.40	</b></td><td>Edutec Labimport Sociedad Anonima Cerrada -  Edutec Labimport S.A.C. - 	</td><td><b>20553639515	</b></td><td>FACTURA	</td><td>F001-631	</td><td>000000000631	</td><td align="right"><b>69,840.00	</td><td align="right"><b>0.00	</b></td><td>19-JUL-24	</td><td>02-SEP-24	</td><td>RCT 15	</td><td align="right"><b> 158,606.64	</b></td><td align="right">  41,904.00	</td><td>1135007	</td><td>	</td><td>MIT 5	</td><td>10-SEP-24	</td><td>	</td><td>	</td></tr>
                  <tr><td align="right">	5	</td><td><span class="pointer" onclick="descargar_pago(437675)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>63040602	</td><td>7124- F001-631 | Simulador/ARES-LAB Enferería | 02-SUMULADOR DE MEDIAN	</td><td align="right"><b>260,852.40	</b></td><td>Edutec Labimport Sociedad Anonima Cerrada -  Edutec Labimport S.A.C. - 	</td><td><b>20553639515	</b></td><td>FACTURA	</td><td>F001-631	</td><td>000000000631	</td><td align="right"><b>69,840.00	</td><td align="right"><b>0.00	</b></td><td>19-JUL-24	</td><td>02-SEP-24	</td><td>RCT 15	</td><td align="right"><b> 102,245.76	</b></td><td align="right">  27,936.00	</td><td>1290408	</td><td>03-DIC-24	</td><td>MBT 5	</td><td>03-DIC-24	</td><td>	</td><td>	</td></tr>
                  <tr><td align="right">	6	</td><td><span class="pointer" onclick="descargar_pago(437727)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>61010103	</td><td>7124- F001-3234 | EQUIPO MikroTik/Digeti | EQUIPO  MikroTik - 12 puert	</td><td align="right"><b>4,402.73	</b></td><td>Comutel Peru S.A.C. Comutel Peru S.A.C. 	</td><td><b>20604457921	</b></td><td>FACTURA	</td><td>F001-3234	</td><td>000000003234	</td><td align="right"><b>1,175.00	</td><td align="right"><b>671.61	</b></td><td>13-AGO-24	</td><td>14-AGO-24	</td><td>RCT 5	</td><td align="right"><b>   4,270.65	</b></td><td align="right">   1,139.75	</td><td>1223636	</td><td>13-AGO-24	</td><td>MBT 40	</td><td>22-AGO-24	</td><td><b>132.08</b> (35.25) 13-AGO-24 E001-27040	</td><td>	</td></tr>
                  <tr><td align="right">	7	</td><td><span class="pointer" onclick="descargar_pago(454438)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>63020603	</td><td>7124- F001-7919 | Materiales /Lab civil | Material/Lab civil	</td><td align="right"><b>450,547.78	</b></td><td>Tecnicas Cp S.A.C. Tecnicas Cp S.A.C. 	</td><td><b>20511469644	</b></td><td>FACTURA	</td><td>F001-7919	</td><td>000000007919	</td><td align="right"><b>120,014.80	</td><td align="right"><b>69,220.05	</b></td><td>04-SEP-24	</td><td>16-OCT-24	</td><td>RCT 6	</td><td align="right"><b> 440,245.51	</b></td><td align="right"> 116,414.36	</td><td>1135007	</td><td>	</td><td>MIT 32	</td><td>28-OCT-24	</td><td><b>13,530.45</b> (3,600.44) 28-OCT-24 E001-28074	</td><td>	</td></tr>
                  <tr><td align="right">	8	</td><td><span class="pointer" onclick="descargar_pago(457300)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>61020101	</td><td>7124- F008-10169 | Microfono/Imagen | Microfono/Imagen y MKT	</td><td align="right"><b>3,614.64	</b></td><td>Corporacion Sonotec Sociedad Anonima Cerrada Corporacion Sonotec S.A.C 	</td><td><b>20518332792	</b></td><td>FACTURA	</td><td>F008-10169	</td><td>000000010169	</td><td align="right"><b>956.00	</td><td align="right"><b>551.38	</b></td><td>04-SEP-24	</td><td>30-SEP-24	</td><td>RCT 16	</td><td align="right"><b>   3,494.14	</b></td><td align="right">       0.00	</td><td>1135007	</td><td>	</td><td>MIT 22	</td><td>17-DIC-24	</td><td><b>108.44</b> (28.68) 18-DIC-24 E001-28842	</td><td>	</td></tr>
                  <tr><td align="right">	9	</td><td><span class="pointer" onclick="descargar_pago(457300)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>61020101	</td><td>7124- F008-10169 | Microfono/Imagen | Microfono/Imagen y MKT	</td><td align="right"><b>3,614.64	</b></td><td>Corporacion Sonotec Sociedad Anonima Cerrada Corporacion Sonotec S.A.C 	</td><td><b>20518332792	</b></td><td>FACTURA	</td><td>F008-10169	</td><td>000000010169	</td><td align="right"><b>956.00	</td><td align="right"><b>551.38	</b></td><td>04-SEP-24	</td><td>30-SEP-24	</td><td>RCT 16	</td><td align="right"><b>      12.06	</b></td><td align="right">     927.32	</td><td>4126025	</td><td>	</td><td>MIT 22	</td><td>17-DIC-24	</td><td><b>108.44</b> (28.68) 18-DIC-24 E001-28842	</td><td>	</td></tr>
                  <tr><td align="right">	10	</td><td><span class="pointer" onclick="descargar_pago(522374)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>61010106	</td><td>7124- FF01-1042 | PI:1035-1 cámara de video sony XW-Z90V y tres trípod	</td><td align="right"><b>16,956.90	</b></td><td>Audio Pro Peru S.A.C. Audio Pro Peru S.A.C. 	</td><td><b>20606018305	</b></td><td>FACTURA	</td><td>FF01-1042	</td><td>000000001042	</td><td align="right"><b>4,540.00	</td><td align="right"><b>2,586.64	</b></td><td>06-DIC-24	</td><td>18-DIC-24	</td><td>RCT 7	</td><td align="right"><b>  16,448.19	</b></td><td align="right">   4,403.80	</td><td>1324067	</td><td>06-DIC-24	</td><td>MBT 46	</td><td>24-DIC-24	</td><td><b>508.71</b> (136.20) 06-DIC-24 E001-28691	</td><td>	</td></tr>
                  <tr><td align="right">	11	</td><td><span class="pointer" onclick="descargar_pago(531019)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>61010101	</td><td>7124- F001-368 | PI:1030-Parlantes y material para Grados y Títulos-04	</td><td align="right"><b>7,215.69	</b></td><td>Rng Producciones Peru E.I.R.L.  	</td><td><b>20609350661	</b></td><td>FACTURA	</td><td>F001-368	</td><td>000000000368	</td><td align="right"><b>3,831.00	</td><td align="right"><b>2,201.40	</b></td><td>11-OCT-24	</td><td>23-DIC-24	</td><td>RCT 9	</td><td align="right"><b>  14,431.38	</b></td><td align="right">   3,831.00	</td><td>1239023	</td><td>30-DIC-24	</td><td>MIT 39	</td><td>30-DIC-24	</td><td>	</td><td>	</td></tr>
                  <tr><td align="right">	12	</td><td><span class="pointer" onclick="descargar_pago(534828)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>61010106	</td><td>7124- F008-10593 | PI:1033-Micrófono de diadema color carne y Sistema 	</td><td align="right"><b>6,615.43	</b></td><td>Corporacion Sonotec Sociedad Anonima Cerrada Corporacion Sonotec S.A.C 	</td><td><b>20518332792	</b></td><td>FACTURA	</td><td>F008-10593	</td><td>000000010593	</td><td align="right"><b>2,105.00	</td><td align="right"><b>1,196.74	</b></td><td>10-DIC-24	</td><td>30-DIC-24	</td><td>RCT 13	</td><td align="right"><b>   7,284.61	</b></td><td align="right">   1,954.55	</td><td>1135007	</td><td>	</td><td>MIT 47	</td><td>31-DIC-24	</td><td><b>235.36</b> (63.15) 10-DIC-24 E001-28702	</td><td>	</td></tr>
                  <tr><td align="right">	13	</td><td><span class="pointer" onclick="descargar_pago(534828)"><i class="fa fa-eye" aria-hidden="true"></i> Docs</span>	</td><td>1231099	</td><td>61010106	</td><td>7124- F008-10593 | PI:1033-Micrófono de diadema color carne y Sistema 	</td><td align="right"><b>6,615.43	</b></td><td>Corporacion Sonotec Sociedad Anonima Cerrada Corporacion Sonotec S.A.C 	</td><td><b>20518332792	</b></td><td>FACTURA	</td><td>F008-10593	</td><td>000000010593	</td><td align="right"><b>2,105.00	</td><td align="right"><b>1,196.74	</b></td><td>10-DIC-24	</td><td>30-DIC-24	</td><td>RCT 13	</td><td align="right"><b>     325.37	</b></td><td align="right">      87.30	</td><td>1103223	</td><td>30-DIC-24	</td><td>MBT 56	</td><td>29-DIC-24	</td><td><b>235.36</b> (63.15) 10-DIC-24 E001-28702	</td><td>	</td></tr>
                                    
                </tbody>

            </table>
        </div>
    </div>
    

  
  <!-- Modal -->
  <div class="modal fade" id="modal_docs" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">Documentos</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <ul class="list-group list-group-flush " id="lista_docs">
                
                
            </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>


  <div class="modal fade" id="modal_error" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5 text-danger text" id="staticBackdropLabel"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Error!</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <p class="">Token caducado! <i class="fa fa-frown-o" aria-hidden="true"></i></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

    





    

<script>

let list_docs_html ="";
let _TOKEN = "t3iNDv4zXPNSbsYTJolNowyO8Ud0hq";   
//c6daGqeTgtdERDMVDatRto9gnynoGa

const myModal = new bootstrap.Modal(document.getElementById('modal_docs'), {
  keyboard: true,
  focus: true
});

const myModalError = new bootstrap.Modal(document.getElementById('modal_error'), {
  keyboard: true,
  focus: true
});




function    descargar_compra(id_pcompra){
    let TOKEN = document.getElementById('f_token').value;
    if(TOKEN == "X"){
        TOKEN = _TOKEN;
    }

    const xhr = new XMLHttpRequest();
    xhr.open("GET", "https://api-lamb.upeu.edu.pe/purchases-v1/api/task/order-all-file/"+id_pcompra);
    xhr.setRequestHeader("Authorization", TOKEN);
    
    xhr.send();
    xhr.responseType = "json";
    xhr.onload = () => {
    if (xhr.readyState == 4 && xhr.status == 200) {
        const data = xhr.response;
        console.log(data);
        window.open(data[0].url, '_blank');
    } else {
        console.log(`Error: ${xhr.status}`);
    }
    };
}

function descargar_pago(id_pcompra){
    let TOKEN = document.getElementById('f_token').value;
    if(TOKEN == "X"){
        TOKEN = _TOKEN;
    }

    list_docs_html = "";
    const xhr = new XMLHttpRequest();
    xhr.open("GET", "https://api-lamb.upeu.edu.pe/purchases-v1/api/task/order-all-file/"+id_pcompra);
    xhr.setRequestHeader("Authorization", TOKEN);
    
    xhr.send();
    xhr.responseType = "json";
    xhr.onload = () => {
    if (xhr.readyState == 4 && xhr.status == 200) {
        const data = xhr.response;
        console.log(data);

        data.forEach((file, index) => {
            let _doc = "";
            if(file.tipo=="3"){_doc="Compra"}else if(file.tipo=="1" || file.tipo=="12"){_doc="Pago TLC"}else if(file.tipo=="5"){_doc = "Sustento"}else if(file.tipo=="14"){_doc = "Detrac."}
            list_docs_html += '<li class="list-group-item"><span class="badge text-bg-success">'+_doc+' </span> '+file.nombre+' <a class="badge text-bg-warning" href="'+file.url+'" target="_blank"> Ver doc <i class="fa fa-download" aria-hidden="true"></i></a></li>';
        });

        document.getElementById("lista_docs").innerHTML = list_docs_html;
        
        console.log("abriendo modal");



        myModal.show();
        //window.open(data[0].url, '_blank');
    } else {
        console.log(`Error: ${xhr.status}`);
        myModalError.show();
    }
    };
}




function doSearch(){

  const tableReg = document.getElementById('datos_compras');

  const searchText = document.getElementById('searchTerm').value.toLowerCase();

  let total = 0;



  // Recorremos todas las filas con contenido de la tabla

  for (let i = 1; i < tableReg.rows.length; i++) {

      // Si el td tiene la clase "noSearch" no se busca en su cntenido

      if (tableReg.rows[i].classList.contains("noSearch")) {

          continue;

      }



      let found = false;

      const cellsOfRow = tableReg.rows[i].getElementsByTagName('td');

      // Recorremos todas las celdas

      for (let j = 0; j < cellsOfRow.length && !found; j++) {

          const compareWith = cellsOfRow[j].innerHTML.toLowerCase();

          // Buscamos el texto en el contenido de la celda

          if (searchText.length == 0 || compareWith.indexOf(searchText) > -1) {

              found = true;

              total++;

          }

      }

      if (found) {

      tableReg.rows[i].style.display = '';

      } else {

      // si no ha encontrado ninguna coincidencia, esconde la

      // fila de la tabla

      tableReg.rows[i].style.display = 'none';

      }

  }
  
  // mostramos las coincidencias

  const msj_busqueda = document.getElementById("text_resultados");

  msj_busqueda.classList.remove("hide", "red");

  if (searchText == "") {

    msj_busqueda.classList.add("hide");

  } else if (total) {

    msj_busqueda.innerHTML="Hay <b>"+total+"</b> coincidencia"+((total>1)?"s":"");

  } else {

    msj_busqueda.classList.add("red");

    msj_busqueda.innerHTML="<b>0</b> coincidencias";

  }

}






</script>
</body>
</html>
